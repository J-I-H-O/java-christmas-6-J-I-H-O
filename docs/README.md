# 미션 - 크리스마스 프로모션 (프리코스 4주차)
## 기능 요구사항
### 1. 방문 예정일 입력
- 방문할 날짜 입력
- 1 이상 31 이하의 숫자가 아닌 경우, 에러 메세지 출력
- 숫자가 아닌 경우 에러 메세지 출력

### 2. 메뉴와 개수 입력
- 메뉴판에 없는 메뉴 입력시 에러 메세지 출력
- 메뉴의 개수는 1 이상의 숫자만 입력. 아닌 경우 에러 메세지 출력
- 메뉴 형식이 예시와 다른 경우 에러 메세지 출력
- 중복 메뉴를 입력한 경우 에러 메세지 출력
- **메뉴는 한 번에 최대 20개까지만 주문할 수 있음**

### 3. 주문 메뉴 출력
- 주문 메뉴의 출력 순서는 자유

### 4. 할인 전 총주문 금액 출력

### 5. 증정 메뉴 출력
- 할인 전 총주문 금액이 12만원 이상일 때 샴페인 1개 증정 (최대 1병)
- 증정 이벤트에 해당하지 않는 경우, 증정 메뉴 "없음"으로 출력

### 6. 혜택 내역 출력
- 고객에게 적용된 이벤트 내역만 출력
- 적용된 이벤트가 하나도 없다면 혜택 내역 "없음"으로 출력
- 혜택 내역에 여러 개의 이벤트가 적용된 경우 출력 순서는 자유롭게 출력
- **혜택 내역**
  - 크리스마스 디데이 할인 (**2023.12.1 ~ 2023.12.25**)
  - 평일 할인 (**일요일~목요일**)
    - **평일**에는 **디저트 메뉴**를 **메뉴 1개당** 2,023원 할인
  - 주말 할인 (**금요일, 토요일**)
    - **주말**에는 **메인 메뉴**를 **메뉴 1개당** 2,023원 할인
  - 특별 할인
    - 이벤트 달력에 별이 있으면 총주문 금액에서 1,000원 할인
  - 증정 이벤트 
    - 샴페인 1병 -25,000원
- **주의사항**
  - 총 주문 금액 10,000원 이상부터 이벤트가 적용됨에 주의
  - 음료만 주문 시 주문할 수 없음
  - 크리스마스 디데이 할인은 1~25일 까지만 진행, 나머지 이벤트는 1~31일 까지 진행
  - 평일, 주말 기간 확인 잘 할것
  - 샴페인은 주문당 최대 1개만 증정하며, 증정 시 25,000원 할인으로 표시

### 7. 총 혜택 금액 출력
- 총혜택 금액 = 할인 금액의 합계 + 증정 메뉴의 가격

### 8. 할인 후 예상 결제 금액 출력
- 할인 후 예상 결제 금액 = 할인 전 총주문 금액 - 할인 금액

### 9. 12월 이벤트 배지 출력
- 총혜택 금액에 따라 다른 이벤트 배지 부여
  - 5천 원 이상: 별
  - 1만 원 이상: 트리
  - 2만 원 이상: 산타
- 이벤트 배지가 부여되지 않는 경우, "없음" 출력

## 개발 중 고민한 내용
- **MVC 패턴에 대한 학습 후, 모델, 뷰, 컨트롤러의 역할을 분리하기 위해 고민했습니다.**
  - 뷰는 입력과 출력만을 담당하도록 설계하고, 나머지 핵심 로직은 모델에서 처리하도록 구성하였습니다. 
  - 기존에는 유효성을 검사하는 코드는 Validation 클래스를 따로 두어 한 곳에 몰아두었습니다.
  - 그러나 유효성 검사는 인스턴스 변수를 다루는 만큼 모델 내부에 포함되는 것이 적합하다고 생각했습니다.
  - 따라서 유효성 검사 코드는 각각의 모델에 포함되도록 설계하였습니다.
- **한 클래스에 여러 개의 인스턴스 변수를 가지는 경우, 유효성 검사를 어떻게 처리할지 고민했습니다.**
  - 여러 개의 인스턴스 변수에 대한 유효성 검사를 하나의 클래스에 포함시키는 경우, 유효성 검사를 위한 로직이 클래스의 전체 코드 중 너무 많은 비중을 차지하게 된다고 생각했습니다.
  - 따라서 primitive 타입의 인스턴스 변수를 클래스로 한번 감싼 형태로 변경하고, 유효성 검사 로직은 각각의 클래스에 포함되도록 변경하여 책임을 분산하고, 응집도는 높일 수 있었습니다.
    - **기존 코드**
      ```
      public class OrderMenu {
          private final String menuName;
          private final int quantity;
       
          // 메뉴 이름, 수량 등에 관한 검증 코드들, 기타 메서드 등등..
      }
      ```
        - `OrderMenu`에 메뉴 이름과 수량과 관련된 검증 로직 등이 모두 포함되어 있었기 때문에 검증 로직이 전체 코드 중 차지하는 비율이 매우 커졌고, 가독성이 떨어졌습니다.
      
      <br>
      
    - **수정한 코드**
      ```
      public class OrderMenu {
          private final MenuInfo menuInfo;
          private final Quantity quantity;
          ...
      }
      ```
      ```
      public class Quantity {
          private final int quantity;
      
          private void validateNumeric(String input) {
              try {
                  Integer.parseInt(input);
              } catch (NumberFormatException e) {
                  throw new IllegalArgumentException(INVALID_INPUT_ERROR_MESSAGE);
              }
          }
      }
      ...
      ```
      - 기본타입이었던 인스턴스 변수들을 객체로 한번 감싼 형태로 변경하였습니다.
      - 이로써 `OrderMenu`가 담당하던 메뉴 이름, 수량에 관한 검증 로직은 분리한 각 클래스들이 담당하게 되며 역할의 분리가 이루어졌습니다.
- **명확한 의미 전달과 가독성을 위해 메서드를 최대한 분리하였습니다.**
  - 서로 연관된 동작끼리는 별도의 메서드로 묶어내어 각 메서드가 담당하는 기능을 분리하고, 간결하게 표현하기 위해 노력했습니다.
- **연관된 상수들을 의미있게 묶어내기 위해 enum을 최대한 활용하였습니다.**
  - 메뉴의 정보를 표현하기 위한 `MenuInfo` 
    - 메뉴의 이름, 종류, 가격을 묶어내어 표현하였습니다. 또한 메뉴 이름을 인자로 입력받아, 실제로 존재하는 메뉴인지 검증하는 로직 또한 해당 enum 클래스 내부에 포함시켰습니다.
  - 이벤트 뱃지를 표현하기 위한 `EventBadges`
    - 뱃지의 이름과 뱃지를 획득하기 위한 총혜택 금액을 묶어내어 표현하였습니다.
  
## 프리코스를 진행하며 느낀 점
프리코스를 진행하며, 아무것도 모르던 상태에서 많은 것을 배울 수 있었습니다.
개발의 기본기 뿐만 아니라 코딩 컨벤션과 커밋 컨벤션 등 협업과 관련된 기술에 대해서도 알 수 있었고, 프로그래밍 요구사항을 준수하며 자연스럽게 부족하게나마 클린코드를 위한 습관을 들일 수 있었던 것 같습니다.
무엇보다도 학습한 내용을 과제에 바로바로 녹여보며 실전에 사용해볼 수 있는 점이 매력적이었습니다.

이 과정에서 다른 뛰어난 지원자들을 보며 많은 생각이 들었습니다. 특히 디스코드 채널에서 지식을 공유하며 적극적으로 소통하는 모습을 보며 많은 영감을 얻었고, 저의 목표인 '지식을 나누는 개발자'로서의 목표를 더욱 분명히 할 수 있었습니다.

동료 지원자들과의 코드 리뷰를 통해 제 코드의 부족한 점을 인식하고, 이를 개선하기 위한 추가 학습의 필요성을 깨달았습니다. 또, 같은 문제를 다양한 접근 방식을 통해 해결하는 모습을 보며 새로운 시각을 얻을 수 있었고, 생각의 폭을 넓히는데 큰 도움이 되었습니다.

4주동안 달려온 제 자신이 자랑스럽기도 하고, 한편으로는 아쉽기도 합니다. 조금 더 열심히 학습했더라면 더 나은 결과물을 낼 수 있었을 것이라는 아쉬움이 남았습니다.
앞으로는 프리코스를 진행하며 부족하다고 느꼈던, 객체지향 프로그래밍 및 테스트 코드 작성과 관련된 내용을 추가적으로 학습하려고 합니다.

훌륭한 개발자들과 함께하는 경험은 아주 가치있었고, 저 역시 뛰어난 개발자가 되기 위해 더욱 노력할 것입니다. 프리코스에서 얻은 지식과 경험은 제 성장에 있어 소중한 밑거름이 될 것이라고 믿습니다. 저는 앞으로도 지속적인 학습과 성장을 위해 노력할 것입니다. 

감사합니다.